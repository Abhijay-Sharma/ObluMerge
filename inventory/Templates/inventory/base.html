<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link href="https://bootswatch.com/5/minty/bootstrap.css" rel="stylesheet" id="theme-style">
    <title>Inventory Manager</title>
    <style>
        body.dark-mode {
            background-color: #121212;
            color: #ffffff;
        }

        .navbar.dark-mode {
            background-color: #212529 !important;
        }

        .navbar.dark-mode .nav-link {
            color: #ffffff !important;
        }

        .dark-toggle {
            cursor: pointer;
            color: #0d6efd;
            border: none;
            background: none;
        }

        /* Dark mode table styles */
        body.dark-mode table.table-dark {
            background-color: #1e1e1e;
            --bs-table-color: #fff;
            --bs-table-bg: #00000000;
            --bs-table-border-color: #000;
            --bs-table-striped-bg: #212529;
            --bs-table-striped-color: #fff;
            --bs-table-active-bg: #000;
            --bs-table-active-color: #fff;
            --bs-table-hover-bg: #43494e;
            --bs-table-hover-color: #fff;
        }

        body.dark-mode table.table-dark th,
        body.dark-mode table.table-dark td {
            color: #ffffff;
            border-color: #333333;
        }

        body.dark-mode a.navbar-brand {
            color: #ffffff;
        }

    </style>
</head>
<body>
    {% include 'inventory/navigation.html' %}

    {% block content %}
    {% endblock content %}

    <script>
        function applyDarkMode(isDark) {
            const body = document.body;
            const navbar = document.querySelector('.navbar');
            const tables = document.querySelectorAll('table');

            body.classList.toggle('dark-mode', isDark);
            if (navbar) navbar.classList.toggle('dark-mode', isDark);

            // Add table-dark class to all tables
            tables.forEach(table => {
                if (isDark) {
                    table.classList.add('table-dark');
                } else {
                    table.classList.remove('table-dark');
                }
            });
        }

        // On page load, apply saved mode
        document.addEventListener('DOMContentLoaded', () => {
            const isDark = localStorage.getItem('darkMode') === 'true';
            applyDarkMode(isDark);
        });

        // Toggle dark mode manually
        function toggleDarkMode() {
            const isDark = !document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
            applyDarkMode(isDark);
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
</body>
</html>
